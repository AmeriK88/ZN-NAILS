{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
    <h2 class="text-center mb-4">ðŸ“… Mis Citas</h2>

    {% if appointments %}
      <div class="row">
          {% for appointment in appointments %}
          <div class="col-md-6 mb-4">
              <div class="card shadow-sm">
              <div class="card-header gradiente-header text-white">
                  <h5>{{ appointment.service.nombre }}</h5>
                  </div>
                  <div class="card-body">
                  <p><strong>DescripciÃ³n:</strong> {{ appointment.service.descripcion }}</p>
                  <p><strong>Precio:</strong> â‚¬{{ appointment.service.precio }}</p>
                  <p><strong>DuraciÃ³n:</strong> {{ appointment.service.duracion }} minutos</p>
                  <p><strong>Fecha:</strong> {{ appointment.date }}</p>
                  <p><strong>Hora:</strong> {{ appointment.time }}</p>
                  {% if appointment.service.imagen %}
                      <img src="{{ appointment.service.imagen.url }}" class="img-fluid mt-2" alt="{{ appointment.service.nombre }}">
                  {% endif %}
                  </div>              
              </div>
          </div>
          {% endfor %}
      </div>
      {% else %}
      <!-- Tarjeta cuando no hay citas activas -->
      <div class="row justify-content-center">
          <div class="col-md-8">
          <div class="card shadow-sm text-center">
              <div class="card-header gradiente-header text-white">
              <h4>ðŸ“… No tienes citas activas</h4>
              </div>
              <div class="card-body">
              <p class="lead">Â¡No has reservado ninguna cita todavÃ­a!</p>
              <p>Descubre nuestros servicios y agenda tu prÃ³xima sesiÃ³n para lucir espectacular. ðŸ’…</p>
              <a href="{% url 'book_appointment' %}" class="btn btn-reservar btn-lg mt-3">
                  âœ¨ Â¡Reserva Ahora!
              </a>
              </div>
          </div>
          </div>
      </div>
  {% endif %}
</div>
{% endblock %}
