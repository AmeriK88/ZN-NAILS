{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="py-5 text-center">
  <!-- Mensaje -->
  {% if messages %}
    <div class="container mt-3">
      {% for message in messages %}
        <div class="alert alert-dismissible fade show 
            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %} alert-danger
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %} alert-success
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %} alert-warning
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %} alert-info
            {% else %} alert-secondary {% endif %}" 
            role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <h2 class="mb-4">Reserva tu cita para uñas</h2>
  <p class="lead mb-5">
    ¡Haz tu cita ahora para un servicio de uñas espectacular!
  </p>

  {% if user.is_authenticated %}
    <!-- Si está logueado, lo enviamos a reservar cita -->
    <a href="{% url 'book_appointment' %}" class="btn btn-outline-dark btn-lg">
      ¡Reserva Ahora!
    </a>
  {% else %}
    <!-- Si NO está logueado, abre el modal de registro -->
    <button 
      id="registerBtn" 
      class="btn btn-outline-dark btn-lg" 
      type="button"
      data-bs-toggle="modal" 
      data-bs-target="#registerModal">
      ¡Reserva Ahora!
    </button>
  {% endif %}
</div>

{% endblock %}
